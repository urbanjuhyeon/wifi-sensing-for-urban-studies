<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>A Comprehensive Toolkit for WiFi Sensing: Decoding urban spaces - 2.3. Installation Steps</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../content/a30-collection.html" rel="next">
<link href="../content/a22-placement.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../content/a20-setting.html">2. Setting up WiFi Sensors</a></li><li class="breadcrumb-item"><a href="../content/a23-installation.html">2.3. Installation Steps</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">A Comprehensive Toolkit for WiFi Sensing: Decoding urban spaces</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/jhyeonpark/wifi-sensing-for-urban-studies/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a10-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">a10-intro.html</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../content/a20-setting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Setting up WiFi Sensors</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a21-requirement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.1. Requirements</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a22-placement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Placement and Coverage Considerations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a23-installation.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">2.3. Installation Steps</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../content/a30-collection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">a30-collection.html</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a31-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">a31-guide.html</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../content/a40-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">a40-analysis.html</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a41-overall.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">a41-overall.html</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../content/a50-application.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">a50-application.html</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a51-case.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">a51-case.html</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../content/a60-further.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">a60-further.html</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a61-paper.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">a61-paper.html</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#initiating-your-raspberry-pi" id="toc-initiating-your-raspberry-pi" class="nav-link active" data-scroll-target="#initiating-your-raspberry-pi">2.3.1. Initiating Your Raspberry Pi</a>
  <ul class="collapse">
  <li><a href="#step-1-download-the-pi-imager" id="toc-step-1-download-the-pi-imager" class="nav-link" data-scroll-target="#step-1-download-the-pi-imager">Step 1: Download the Pi Imager</a></li>
  <li><a href="#step-2-format-your-sd-card" id="toc-step-2-format-your-sd-card" class="nav-link" data-scroll-target="#step-2-format-your-sd-card">Step 2: Format your SD Card</a></li>
  <li><a href="#step-3-flash-the-os-onto-your-sd-card" id="toc-step-3-flash-the-os-onto-your-sd-card" class="nav-link" data-scroll-target="#step-3-flash-the-os-onto-your-sd-card">Step 3: Flash the OS onto your SD Card</a></li>
  <li><a href="#step-4-connect-your-pi-to-your-laptop" id="toc-step-4-connect-your-pi-to-your-laptop" class="nav-link" data-scroll-target="#step-4-connect-your-pi-to-your-laptop">Step 4: Connect your Pi to your Laptop</a></li>
  <li><a href="#step-5-enable-internet-connection-sharing" id="toc-step-5-enable-internet-connection-sharing" class="nav-link" data-scroll-target="#step-5-enable-internet-connection-sharing">Step 5: Enable Internet Connection Sharing</a></li>
  <li><a href="#step-6-access-your-raspberry-pi-via-ssh" id="toc-step-6-access-your-raspberry-pi-via-ssh" class="nav-link" data-scroll-target="#step-6-access-your-raspberry-pi-via-ssh">Step 6: Access Your Raspberry Pi via SSH</a></li>
  <li><a href="#step-7-verify-your-pis-internet-connectivity" id="toc-step-7-verify-your-pis-internet-connectivity" class="nav-link" data-scroll-target="#step-7-verify-your-pis-internet-connectivity">Step 7: Verify Your Pi’s Internet Connectivity</a></li>
  </ul></li>
  <li><a href="#configuring-your-pi-as-a-wireless-sensor" id="toc-configuring-your-pi-as-a-wireless-sensor" class="nav-link" data-scroll-target="#configuring-your-pi-as-a-wireless-sensor">2.3.2. Configuring Your Pi as a Wireless Sensor</a>
  <ul class="collapse">
  <li><a href="#step-2.-set-up-your-mobiles-hotspot" id="toc-step-2.-set-up-your-mobiles-hotspot" class="nav-link" data-scroll-target="#step-2.-set-up-your-mobiles-hotspot">Step 2. Set Up Your Mobile’s Hotspot</a></li>
  <li><a href="#step-3.-edit-the-pis-network-configuration" id="toc-step-3.-edit-the-pis-network-configuration" class="nav-link" data-scroll-target="#step-3.-edit-the-pis-network-configuration">Step 3. Edit the Pi’s Network Configuration</a></li>
  </ul></li>
  <li><a href="#transforming-your-pi-into-a-file-server" id="toc-transforming-your-pi-into-a-file-server" class="nav-link" data-scroll-target="#transforming-your-pi-into-a-file-server">2.3.3. Transforming Your Pi into a File Server</a>
  <ul class="collapse">
  <li><a href="#step-1.-install-samba" id="toc-step-1.-install-samba" class="nav-link" data-scroll-target="#step-1.-install-samba">Step 1. Install Samba</a></li>
  <li><a href="#step-2.-modify-the-samba-config-file" id="toc-step-2.-modify-the-samba-config-file" class="nav-link" data-scroll-target="#step-2.-modify-the-samba-config-file">Step 2. Modify the Samba Config File</a></li>
  <li><a href="#step-3.-set-up-a-samba-user" id="toc-step-3.-set-up-a-samba-user" class="nav-link" data-scroll-target="#step-3.-set-up-a-samba-user">Step 3. Set Up a Samba User</a></li>
  <li><a href="#step-4.-restart-samba-services" id="toc-step-4.-restart-samba-services" class="nav-link" data-scroll-target="#step-4.-restart-samba-services">Step 4. Restart Samba Services</a></li>
  <li><a href="#step-5.-access-the-pi-directory" id="toc-step-5.-access-the-pi-directory" class="nav-link" data-scroll-target="#step-5.-access-the-pi-directory">Step 5. Access the Pi Directory</a></li>
  <li><a href="#step-6.-create-and-verify-the-test-file" id="toc-step-6.-create-and-verify-the-test-file" class="nav-link" data-scroll-target="#step-6.-create-and-verify-the-test-file">Step 6. Create and Verify the Test File</a></li>
  </ul></li>
  <li><a href="#setting-up-cloud-storage-access-on-your-pi" id="toc-setting-up-cloud-storage-access-on-your-pi" class="nav-link" data-scroll-target="#setting-up-cloud-storage-access-on-your-pi">2.3.4. Setting Up Cloud Storage Access on Your Pi</a>
  <ul class="collapse">
  <li><a href="#step-1.-create-a-dropbox-app" id="toc-step-1.-create-a-dropbox-app" class="nav-link" data-scroll-target="#step-1.-create-a-dropbox-app">Step 1. Create a Dropbox App</a></li>
  <li><a href="#step-2.-modify-the-permission" id="toc-step-2.-modify-the-permission" class="nav-link" data-scroll-target="#step-2.-modify-the-permission">Step 2. Modify the Permission</a></li>
  <li><a href="#step-3.-install-the-necessary-packages" id="toc-step-3.-install-the-necessary-packages" class="nav-link" data-scroll-target="#step-3.-install-the-necessary-packages">Step 3. Install the Necessary Packages</a></li>
  <li><a href="#step-4.-install-the-dropbox-uploader" id="toc-step-4.-install-the-dropbox-uploader" class="nav-link" data-scroll-target="#step-4.-install-the-dropbox-uploader">Step 4. Install the Dropbox Uploader</a></li>
  <li><a href="#step-5.-assign-execution-permission" id="toc-step-5.-assign-execution-permission" class="nav-link" data-scroll-target="#step-5.-assign-execution-permission">Step 5. Assign Execution Permission</a></li>
  <li><a href="#step-6.-validate-app-permissions-on-your-pi" id="toc-step-6.-validate-app-permissions-on-your-pi" class="nav-link" data-scroll-target="#step-6.-validate-app-permissions-on-your-pi">Step 6. Validate App Permissions on Your Pi</a></li>
  <li><a href="#step-7.-verify-cloud-storage-access" id="toc-step-7.-verify-cloud-storage-access" class="nav-link" data-scroll-target="#step-7.-verify-cloud-storage-access">Step 7. Verify Cloud Storage Access</a></li>
  </ul></li>
  <li><a href="#software-setup" id="toc-software-setup" class="nav-link" data-scroll-target="#software-setup">2.3.5. Software Setup</a>
  <ul class="collapse">
  <li><a href="#step-1.-retrieve-required-scripts" id="toc-step-1.-retrieve-required-scripts" class="nav-link" data-scroll-target="#step-1.-retrieve-required-scripts">Step 1. Retrieve Required Scripts</a></li>
  <li><a href="#step-2.-install-necessary-packages" id="toc-step-2.-install-necessary-packages" class="nav-link" data-scroll-target="#step-2.-install-necessary-packages">Step 2. Install necessary packages</a></li>
  <li><a href="#step-3.-configure-setting" id="toc-step-3.-configure-setting" class="nav-link" data-scroll-target="#step-3.-configure-setting">Step 3. Configure setting</a></li>
  </ul></li>
  <li><a href="#testing-the-sensing-service" id="toc-testing-the-sensing-service" class="nav-link" data-scroll-target="#testing-the-sensing-service">2.3.6. Testing the Sensing Service</a>
  <ul class="collapse">
  <li><a href="#step-1-prepare-the-environment" id="toc-step-1-prepare-the-environment" class="nav-link" data-scroll-target="#step-1-prepare-the-environment">Step 1: Prepare the Environment</a></li>
  <li><a href="#step-2-execute-the-code" id="toc-step-2-execute-the-code" class="nav-link" data-scroll-target="#step-2-execute-the-code">Step 2: Execute the Code</a></li>
  <li><a href="#step-3-verify-the-results" id="toc-step-3-verify-the-results" class="nav-link" data-scroll-target="#step-3-verify-the-results">Step 3: Verify the Results</a></li>
  <li><a href="#step-4-verify-the-results-without-ethernet" id="toc-step-4-verify-the-results-without-ethernet" class="nav-link" data-scroll-target="#step-4-verify-the-results-without-ethernet">Step 4: Verify the results without ethernet</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">2.3. Installation Steps</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="initiating-your-raspberry-pi" class="level2">
<h2 class="anchored" data-anchor-id="initiating-your-raspberry-pi">2.3.1. Initiating Your Raspberry Pi</h2>
<section id="step-1-download-the-pi-imager" class="level3">
<h3 class="anchored" data-anchor-id="step-1-download-the-pi-imager">Step 1: Download the Pi Imager</h3>
<p>Begin by downloading the Raspberry Pi Imager, a tool for installing the operating system on your Pi. This software is available on the <a href="https://www.raspberrypi.com/software/">official Raspberry Pi website</a>. Select the version compatible with your operating system (Windows, macOS, or Ubuntu) and install it on your computer.</p>
</section>
<section id="step-2-format-your-sd-card" class="level3">
<h3 class="anchored" data-anchor-id="step-2-format-your-sd-card">Step 2: Format your SD Card</h3>
<p>Insert an SD card into your computer, then launch the Raspberry Pi Imager you just installed. Click <code>CHOOSE OS</code>, then select the <code>Erase</code> option followed by <code>Format SD Card</code>.</p>
<p><video src="material/ch2/format_SD.mp4" class="img-fluid" controls=""><a href="material/ch2/format_SD.mp4">Video</a></video></p>
</section>
<section id="step-3-flash-the-os-onto-your-sd-card" class="level3">
<h3 class="anchored" data-anchor-id="step-3-flash-the-os-onto-your-sd-card">Step 3: Flash the OS onto your SD Card</h3>
<p>Once your SD card is formatted, navigate back to the Raspberry Pi Imager main menu. Click <code>CHOOSE OS</code>, then select the Raspberry Pi OS version you wish to install. Afterward, select <code>CHOOSE SD CARD</code> and pick your SD card from the list.</p>
<p>Before you click <code>WRITE</code> to start the writing process, remember to enable <code>ssh</code> for remote access. You can do this by creating an empty file named <code>ssh</code> in the boot partition of the SD card. Also, set the username and password as ‘pi’ and ‘raspberry’ respectively in the settings.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The Raspberry Pi OS’s default username and password are ‘pi’ and ‘raspberry’. However, it’s advisable to change these for security reasons once your system is up and running.</p>
</div>
</div>
<p><video src="material/ch2/write_SD.mp4" class="img-fluid" controls=""><a href="material/ch2/write_SD.mp4">Video</a></video></p>
</section>
<section id="step-4-connect-your-pi-to-your-laptop" class="level3">
<h3 class="anchored" data-anchor-id="step-4-connect-your-pi-to-your-laptop">Step 4: Connect your Pi to your Laptop</h3>
<p>With the Pi-equipped SD card, connect your Pi to your laptop using an Ethernet cable.</p>
<p><img src="material/ch2/connect_pi.jpg" class="img-fluid"></p>
</section>
<section id="step-5-enable-internet-connection-sharing" class="level3">
<h3 class="anchored" data-anchor-id="step-5-enable-internet-connection-sharing">Step 5: Enable Internet Connection Sharing</h3>
<p>Navigate to your laptop’s network settings and enable the <code>Internet Connection Sharing</code> option. This will allow your laptop to share its internet connection with the Raspberry Pi via the Ethernet cable, provided it’s connected to the internet.</p>
<p><video src="material/ch2/share_network.mp4" class="img-fluid" controls=""><a href="material/ch2/share_network.mp4">Video</a></video></p>
</section>
<section id="step-6-access-your-raspberry-pi-via-ssh" class="level3">
<h3 class="anchored" data-anchor-id="step-6-access-your-raspberry-pi-via-ssh">Step 6: Access Your Raspberry Pi via SSH</h3>
<p>Having installed the Windows Terminal from the Microsoft Store, you can access the Command Prompt by pressing <code>Ctrl + R</code>, typing <code>cmd</code>, and hitting <code>Enter</code>. Alternatively, you can open it by pressing <code>Ctrl + Shift + P</code>. This is what you should see:</p>
<p><img src="material/ch2/cmd_screen.png" class="img-fluid"></p>
<p>To establish an SSH connection with your Raspberry Pi, enter the following command:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ssh</span> pi@raspberrypi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="locating-your-raspberry-pis-ip-address-using-mac-address" class="level4">
<h4 class="anchored" data-anchor-id="locating-your-raspberry-pis-ip-address-using-mac-address">Locating Your Raspberry Pi’s IP Address using MAC Address</h4>
<p>You can determine your Raspberry Pi’s IP address using its MAC address. Here’s how to do it:</p>
<p><strong>1. Open Command Prompt:</strong> Press the <code>Windows</code> key on your keyboard, type <code>cmd</code> and hit <code>Enter</code>.</p>
<p><strong>2. Execute the <code>arp -a</code> command:</strong> This command displays the IP and MAC addresses of devices on your network.</p>
<p><strong>3. Identify your Raspberry Pi:</strong> Raspberry Pi devices have MAC addresses that start with <code>B8:27:EB:xx:xx:xx</code> or <code>DC:A6:32:xx:xx:xx</code>. Find the device in the list with a physical address that starts with these characters - that’s your Raspberry Pi’s IP address.</p>
<blockquote class="blockquote">
<p><strong>Note:</strong> These are the MAC address prefixes specific to Raspberry Pi Foundation devices. Your device’s MAC address may start with a different prefix.</p>
</blockquote>
<p><video src="material/ch2/access_with_mac.mp4" class="img-fluid" controls=""><a href="material/ch2/access_with_mac.mp4">Video</a></video></p>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-2-contents" aria-controls="callout-2" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
‘WARNING: REMOTE HOST IDENTIFICATION HAS CHANGED!’
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-2" class="callout-2-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>This warning message means that the remote system you are trying to connect to has a different identification from what your system was expecting. This often happens when the system has been re-installed or the SSH key on the server has changed.</p>
<p><img src="material/ch2/ssh_error.png" class="img-fluid"></p>
<p>You can fix the error by editing your <code>~/.ssh/known_hosts</code> file and removing the old key for the Raspberry Pi. Here’s how to remove the old key:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ssh-keygen</span> <span class="at">-R</span> raspberrypi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Once done, try to re-establish the SSH connection.</p>
</div>
</div>
</div>
</section>
</section>
<section id="step-7-verify-your-pis-internet-connectivity" class="level3">
<h3 class="anchored" data-anchor-id="step-7-verify-your-pis-internet-connectivity">Step 7: Verify Your Pi’s Internet Connectivity</h3>
<p>To confirm your Raspberry Pi’s internet connection, use the ping command followed by the IP address of a well-known site. For example, ping Google’s Public DNS Server by typing this command:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">ping</span> 8.8.8.8</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>If the Pi is connected to the internet, you will see lines starting with ‘64 bytes from 8.8.8.8’ and a summary of the ping at the end.</p>
<p><video src="material/ch2/cmd_ping.mp4" class="img-fluid" controls=""><a href="material/ch2/cmd_ping.mp4">Video</a></video></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you’re using a <strong>network with enhanced security</strong>, such as a university network, you may need to register your Raspberry Pi’s MAC address. The following figure is an example of what I did using my university network. If needed, consult your network administrator or IT support for the specific procedures of your network.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="material/ch2/network_unist.png" class="img-fluid figure-img" width="500"></p>
<figcaption class="figure-caption">Example of a Webpage Used to Register a MAC Address at a University</figcaption>
</figure>
</div>
</div>
</div>
</section>
</section>
<section id="configuring-your-pi-as-a-wireless-sensor" class="level2">
<h2 class="anchored" data-anchor-id="configuring-your-pi-as-a-wireless-sensor">2.3.2. Configuring Your Pi as a Wireless Sensor</h2>
<p>This step allows <strong>your Pi to synchronize its system time</strong> with the internet during boot. Since Raspberry Pi doesn’t have a real-time clock to keep track of time when it’s not powered on (more details <a href="https://dayne.broderson.org/2020/03/12/the_time_is_now.html">here</a>), it must fetch the current time from the internet upon booting.</p>
<section id="step-1.-update-your-raspberry-pi-os" class="level4">
<h4 class="anchored" data-anchor-id="step-1.-update-your-raspberry-pi-os">Step 1. Update Your Raspberry Pi OS</h4>
<p>Start by updating your Raspberry Pi’s operating system (OS) to its latest version. Open a terminal window and enter the following commands:</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get update <span class="at">-y</span> <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> apt-get upgrade <span class="at">-y</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-caution callout-titled">
<div class="callout-header d-flex align-content-center" data-bs-toggle="collapse" data-bs-target=".callout-4-contents" aria-controls="callout-4" aria-expanded="false" aria-label="Toggle callout">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
How to copy/paste in Linux terminal
</div>
<div class="callout-btn-toggle d-inline-block border-0 py-1 ps-1 pe-0 float-end"><i class="callout-toggle"></i></div>
</div>
<div id="callout-4" class="callout-4-contents callout-collapse collapse">
<div class="callout-body-container callout-body">
<p>For copy, you could click this icon to copy the command:</p>
<p><img src="ex_copy.png" class="img-fluid"></p>
<p>For paste, there are various ways; please visit <a href="https://www.maketecheasier.com/enable-copy-paste-command-prompt-windows10/">this</a> when Ctrl+V doesn’t work in the terminal.</p>
</div>
</div>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>In Linux systems, <code>sudo</code> stands for “superuser do”, similar to “Run As Administrator” in Windows. The <code>-y</code> flag automatically confirms any prompts during the update process. The <code>apt-get update</code> command refreshes the list of available packages and their versions, while <code>apt-get upgrade</code> installs the latest versions. You can learn basic Linux commands on websites like <a href="https://www.hostinger.com/tutorials/linux-commands">this</a>.</p>
</div>
</div>
<p>The given command should be placed like this:</p>
<p><img src="material/ch2/update_ex.png" class="img-fluid"></p>
<p>After the updates are complete, restart your Raspberry Pi using this command:</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> reboot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="step-2.-set-up-your-mobiles-hotspot" class="level3">
<h3 class="anchored" data-anchor-id="step-2.-set-up-your-mobiles-hotspot">Step 2. Set Up Your Mobile’s Hotspot</h3>
<p>We’ll establish your mobile phone’s hotspot as the network provider, which the Raspberry Pi will utilize for time synchronization. Set up your hotspot like this:</p>
<p><img src="material/ch2/mobile_hotspot.png" class="img-fluid" width="500"></p>
</section>
<section id="step-3.-edit-the-pis-network-configuration" class="level3">
<h3 class="anchored" data-anchor-id="step-3.-edit-the-pis-network-configuration">Step 3. Edit the Pi’s Network Configuration</h3>
<p>Access the network configuration information by entering this command:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nano /etc/wpa_supplicant/wpa_supplicant.conf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<section id="step-4.-add-your-hotspot-information" class="level4">
<h4 class="anchored" data-anchor-id="step-4.-add-your-hotspot-information">Step 4. Add Your Hotspot Information</h4>
<p>Add the following details (in this case, <em>juhyeon9087</em> is used for both SSID and password of my mobile phone hotspot).</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>country<span class="op">=</span>GB</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>network<span class="op">={</span></span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>  ssid<span class="op">=</span><span class="st">"juhyeon9087"</span></span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>  psk<span class="op">=</span><span class="st">"juhyeon9087"</span></span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>  key_mgmt<span class="op">=</span>WPA<span class="op">-</span>PSK</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="material/ch2/network_config.png" class="img-fluid"></p>
<p>After updating the WiFi connection details, press <code>Ctrl + X</code>, then <code>Y</code>, followed by <code>Enter</code> to save the changes. Reboot your Raspberry Pi to implement the changes.</p>
</section>
</section>
</section>
<section id="transforming-your-pi-into-a-file-server" class="level2">
<h2 class="anchored" data-anchor-id="transforming-your-pi-into-a-file-server">2.3.3. Transforming Your Pi into a File Server</h2>
<p>This process allows <strong>easy sharing of files between a Raspberry Pi and other devices,</strong> such as laptops and PCs. <code>Samba</code>, an open-source secure network file-sharing system, enables this transfer. By setting up Samba, files can be conveniently transferred to and from a laptop within your network to a Raspberry Pi, via a direct Ethernet connection.</p>
<section id="step-1.-install-samba" class="level3">
<h3 class="anchored" data-anchor-id="step-1.-install-samba">Step 1. Install Samba</h3>
<p>Enter the following command in your terminal to install Samba:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install samba samba-common-bin <span class="at">-y</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="step-2.-modify-the-samba-config-file" class="level3">
<h3 class="anchored" data-anchor-id="step-2.-modify-the-samba-config-file">Step 2. Modify the Samba Config File</h3>
<p>To share the Pi’s folder, modify the Samba config file using the following command:</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nano /etc/samba/smb.conf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Move to the end line by pressing <code>Alt + /</code> and add this:</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="op">[</span>share<span class="op">]</span></span>
<span id="cb10-2"><a href="#cb10-2" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> <span class="op">/</span>home<span class="op">/</span>pi</span>
<span id="cb10-3"><a href="#cb10-3" aria-hidden="true" tabindex="-1"></a>writeable<span class="op">=</span>Yes</span>
<span id="cb10-4"><a href="#cb10-4" aria-hidden="true" tabindex="-1"></a>create mast<span class="op">=</span>0777</span>
<span id="cb10-5"><a href="#cb10-5" aria-hidden="true" tabindex="-1"></a>directory mast<span class="op">=</span>0777</span>
<span id="cb10-6"><a href="#cb10-6" aria-hidden="true" tabindex="-1"></a>public<span class="op">=</span>no</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="material/ch2/samba_setting.png" class="img-fluid"></p>
<p>Press <code>Ctrl + X</code>, then <code>Y</code>, followed by <code>Enter</code> to save the changes.</p>
</section>
<section id="step-3.-set-up-a-samba-user" class="level3">
<h3 class="anchored" data-anchor-id="step-3.-set-up-a-samba-user">Step 3. Set Up a Samba User</h3>
<p>Set up a user for your Samba share on your Pi using this command:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> smbpasswd <span class="at">-a</span> pi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Then, enter the password twice as prompted by the command. In this case, the password is <code>raspberry</code>.</p>
</section>
<section id="step-4.-restart-samba-services" class="level3">
<h3 class="anchored" data-anchor-id="step-4.-restart-samba-services">Step 4. Restart Samba Services</h3>
<p>Restart the Samba services to apply the changes by typing this:</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> service smbd restart</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> service nmbd restart</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="step-5.-access-the-pi-directory" class="level3">
<h3 class="anchored" data-anchor-id="step-5.-access-the-pi-directory">Step 5. Access the Pi Directory</h3>
<p>Open the File Explorer (press <code>Win + E</code>), type in the address <code>raspberrypi/pi</code>, then enter the Pi’s name and password as network credentials.</p>
<p><video src="material/ch2/samba_access.mp4" class="img-fluid" controls=""><a href="material/ch2/samba_access.mp4">Video</a></video></p>
</section>
<section id="step-6.-create-and-verify-the-test-file" class="level3">
<h3 class="anchored" data-anchor-id="step-6.-create-and-verify-the-test-file">Step 6. Create and Verify the Test File</h3>
<p>Create a text file in your Pi’s directory using the following command.</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nano test.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>After typing anything (e.g., ‘gg’) in the file, press <code>Ctrl + x</code>, then <code>y</code>, followed by <code>Enter</code>. You should then be able to see the file on your laptop.</p>
<p><video src="material/ch2/samba_check.mp4" class="img-fluid" controls=""><a href="material/ch2/samba_check.mp4">Video</a></video></p>
</section>
</section>
<section id="setting-up-cloud-storage-access-on-your-pi" class="level2">
<h2 class="anchored" data-anchor-id="setting-up-cloud-storage-access-on-your-pi">2.3.4. Setting Up Cloud Storage Access on Your Pi</h2>
<p>This step involves <strong>configuring your Raspberry Pi to send status data to your cloud storage</strong>. It’s essential to ensure that your Pi is properly set up before or during its installation. Typically, you might consider connecting a monitor, mouse, and keyboard to your Pi to check its status, but that’s not always practical or convenient.</p>
<p>Instead, we recommend setting up your Pi to relay status updates - such as available storage space - to your chosen cloud storage. Once your Pi starts sending these updates, you can easily monitor its status by accessing and reviewing these files in the cloud storage. This method allows you to remotely track the setup progress and address any potential issues promptly.</p>
<section id="step-1.-create-a-dropbox-app" class="level3">
<h3 class="anchored" data-anchor-id="step-1.-create-a-dropbox-app">Step 1. Create a Dropbox App</h3>
<p>In this guide, we will be utilizing Dropbox as our cloud storage service. You need to first set up an app on Dropbox to interface with the service. Follow the steps below:</p>
<ol type="1">
<li>Navigate to the <a href="https://www.dropbox.com/developers/">Dropbox developer page</a>.</li>
<li>Sign in or create an account if you haven’t done so already.</li>
<li>Once you’re logged in, proceed to create a new application.</li>
</ol>
<p><img src="material/ch2/dropbox_create.png" class="img-fluid"></p>
</section>
<section id="step-2.-modify-the-permission" class="level3">
<h3 class="anchored" data-anchor-id="step-2.-modify-the-permission">Step 2. Modify the Permission</h3>
<p>Configure your application to permit the viewing and management of files and folders. In this instance, we’ve selected all the available options in the permission settings (for the <strong>indivisual scope</strong>).</p>
<p><img src="material/ch2/dropbox_permission.png" class="img-fluid"></p>
</section>
<section id="step-3.-install-the-necessary-packages" class="level3">
<h3 class="anchored" data-anchor-id="step-3.-install-the-necessary-packages">Step 3. Install the Necessary Packages</h3>
<p>Make sure that curl and git packages are installed on your Pi. You can do this by entering the following command:</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install curl git <span class="at">-y</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="step-4.-install-the-dropbox-uploader" class="level3">
<h3 class="anchored" data-anchor-id="step-4.-install-the-dropbox-uploader">Step 4. Install the Dropbox Uploader</h3>
<p>Download the <a href="https://github.com/andreafabrizi/Dropbox-Uploader/">Dropbox Uploader script</a> onto your Pi using this command:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/andreafabrizi/Dropbox-Uploader.git</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="step-5.-assign-execution-permission" class="level3">
<h3 class="anchored" data-anchor-id="step-5.-assign-execution-permission">Step 5. Assign Execution Permission</h3>
<p>Move into the cloned directory and bestow the executable permission to the script by using these commands:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> Dropbox-Uploader</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> chmod +x dropbox_uploader.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="step-6.-validate-app-permissions-on-your-pi" class="level3">
<h3 class="anchored" data-anchor-id="step-6.-validate-app-permissions-on-your-pi">Step 6. Validate App Permissions on Your Pi</h3>
<p>Begin the Dropbox Uploader configuration with the following command:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./dropbox_uploader.sh</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Enter your app key and app secret in the terminal:</p>
<p><img src="material/ch2/dropbox_register1.png" class="img-fluid"></p>
<p>Copy and paste the given URL into a web browser, then click ‘Continue’ and ‘Allow’ to authorize the permissions.</p>
<p><img src="material/ch2/dropbox_register2.png" class="img-fluid"></p>
<p>Copy and paste the generated access code to the terminal.</p>
<p><img src="material/ch2/dropbox_register3.png" class="img-fluid"></p>
</section>
<section id="step-7.-verify-cloud-storage-access" class="level3">
<h3 class="anchored" data-anchor-id="step-7.-verify-cloud-storage-access">Step 7. Verify Cloud Storage Access</h3>
<p>Employ the upload function to transmit a ‘README.md’ file by executing this command:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./dropbox_uploader.sh</span> upload README.md /</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>You should be able to view the file that was sent by executing the command.</p>
<p><video src="material/ch2/test_dropbox_upload.mp4" class="img-fluid" controls=""><a href="material/ch2/test_dropbox_upload.mp4">Video</a></video></p>
<p>Go back to the home directory by executing the command:</p>
<div class="sourceCode" id="cb21"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> /home/pi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
</section>
<section id="software-setup" class="level2">
<h2 class="anchored" data-anchor-id="software-setup">2.3.5. Software Setup</h2>
<section id="step-1.-retrieve-required-scripts" class="level3">
<h3 class="anchored" data-anchor-id="step-1.-retrieve-required-scripts">Step 1. Retrieve Required Scripts</h3>
<p>To set up the sensing service on your Raspberry Pi, you’ll need to access the scripts located in the <a href="https://github.com/jhyeonpark/urban-sensing-raspi">urban-sensing-raspi</a> GitHub repository.</p>
<p>Before you proceed, ensure that your current directory is <code>/home/pi</code>. If you’re in a different directory, use the following command to navigate to the correct location:</p>
<div class="sourceCode" id="cb22"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb22-1"><a href="#cb22-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> /home/pi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Next, download the repository by executing the following command:</p>
<div class="sourceCode" id="cb23"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/jhyeonpark/urban-sensing-raspi.git</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>This repository contains several files, which are briefly explained below:</p>
<pre><code>.
├── install.sh
├── configure.sh
├── code
│   ├── default
│   │   └── start.py
│   └── ... (additional directories/files as needed)
└── README.md</code></pre>
<ul>
<li><p><code>install.sh</code>: This script automates the installation of the Urban Sensing Service. It handles tasks such as installing necessary system packages and Python libraries, setting up the Bluetooth logger, and conducting other initial setup tasks.</p></li>
<li><p><code>configure.sh</code>: This script manages the configuration of the Urban Sensing Service. It sets up udev rules for consistent network interface naming and creates a systemd service to run the sensing service automatically at boot.</p></li>
<li><p><code>start.py</code>: Located in the ‘code/default’ directory, this Python script is the main program for the Urban Sensing Service. By default, it configures WiFi monitoring on three different channels, collects WiFi packet data, parses this data, and stores relevant information in a SQLite database. It also collects Bluetooth data.</p></li>
</ul>
</section>
<section id="step-2.-install-necessary-packages" class="level3">
<h3 class="anchored" data-anchor-id="step-2.-install-necessary-packages">Step 2. Install necessary packages</h3>
<p>Once you download the repository, move your working directory to the repository with the following command:</p>
<div class="sourceCode" id="cb25"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb25-1"><a href="#cb25-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> urban-sensing-raspi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Next, run the <code>install.sh</code> script by executing this command:</p>
<div class="sourceCode" id="cb26"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span> install.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</section>
<section id="step-3.-configure-setting" class="level3">
<h3 class="anchored" data-anchor-id="step-3.-configure-setting">Step 3. Configure setting</h3>
<p>run the <code>configure.sh</code> script by executing this command:</p>
<div class="sourceCode" id="cb27"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb27-1"><a href="#cb27-1" aria-hidden="true" tabindex="-1"></a><span class="fu">bash</span> install.sh</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Once the installation script completes, proceed with the <code>configure.sh</code> script. This script sets up udev rules for consistent network interface naming and creates a systemd service to run the sensing service automatically at boot.</p>
<p>Remember to start the service again when you’re ready to resume sensing operations.</p>
</section>
</section>
<section id="testing-the-sensing-service" class="level2">
<h2 class="anchored" data-anchor-id="testing-the-sensing-service">2.3.6. Testing the Sensing Service</h2>
<section id="step-1-prepare-the-environment" class="level3">
<h3 class="anchored" data-anchor-id="step-1-prepare-the-environment">Step 1: Prepare the Environment</h3>
<p>Prior to initiating the testing process, ensure to restart your Raspberry Pi:</p>
<div class="sourceCode" id="cb28"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> reboot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>After restarting your Pi, stop the Urban Sensing Service that automatically starts up due to <code>configure.sh</code>:</p>
<div class="sourceCode" id="cb29"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb29-1"><a href="#cb29-1" aria-hidden="true" tabindex="-1"></a><span class="ex">systemctl</span> stop sensing.service</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><video src="material/ch2/prepare_envir.mp4" class="img-fluid" controls=""><a href="material/ch2/prepare_envir.mp4">Video</a></video></p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <code>start.py</code> script contains a <code>time.sleep</code> function, which introduces a 30-second delay after the system’s initialization to ensure stability. If the sensing service is manually interrupted within this window using <code>systemctl stop sensing.service</code>, the sensing operations and other processes encapsulated in <code>start.py</code> won’t be initiated.</p>
</div>
</div>
</section>
<section id="step-2-execute-the-code" class="level3">
<h3 class="anchored" data-anchor-id="step-2-execute-the-code">Step 2: Execute the Code</h3>
<p>Plug WiFi adapters on your Pi.</p>
<p><img src="material/ch2/pi_plugged.jpg" class="img-fluid"></p>
<p>Run the Urban Sensing code using the following command:</p>
<div class="sourceCode" id="cb30"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb30-1"><a href="#cb30-1" aria-hidden="true" tabindex="-1"></a><span class="ex">python3</span> urban-sensing-raspi/code/default/start.py</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>2 minutes later, use the <code>Ctrl+C</code> to stop the code.</p>
</section>
<section id="step-3-verify-the-results" class="level3">
<h3 class="anchored" data-anchor-id="step-3-verify-the-results">Step 3: Verify the Results</h3>
<p>To stop the code, use the <code>ctrl+C</code> command.</p>
<p>Afterward, verify the following: 1. Inspect the ‘stats’ folder: - Has a file been generated? - Are the files named correctly, incorporating the date and time when you executed the script? - Were the files from the ‘stats’ folder successfully transferred to your Dropbox Storage?</p>
<p><video src="material/ch2/verify_result_1.mp4" class="img-fluid" controls=""><a href="material/ch2/verify_result_1.mp4">Video</a></video></p>
<ol start="3" type="1">
<li>Look through the ‘data’ folder:</li>
</ol>
<ul>
<li>Was the Blueglog file generated?</li>
<li>Was the WiFi packet file created? Open the sqlite file by <a href="https://sqlitebrowser.org/">DB Browser for SQLite</a></li>
</ul>
<p><video src="material/ch2/verify_result_2.mp4" class="img-fluid" controls=""><a href="material/ch2/verify_result_2.mp4">Video</a></video></p>
</section>
<section id="step-4-verify-the-results-without-ethernet" class="level3">
<h3 class="anchored" data-anchor-id="step-4-verify-the-results-without-ethernet">Step 4: Verify the results without ethernet</h3>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../content/a22-placement.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Placement and Coverage Considerations</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../content/a30-collection.html" class="pagination-link">
        <span class="nav-page-text">a30-collection.html</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>