<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.3.353">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">


<title>A Comprehensive Toolkit for WiFi Sensing: Decoding urban spaces - 2.3. Installation Steps</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { display: inline-block; line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<link href="../content/a30-collection.html" rel="next">
<link href="../content/a22-placement.html" rel="prev">
<script src="../site_libs/quarto-html/quarto.js"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-text-highlighting-styles">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-dark.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" class="quarto-color-scheme" id="quarto-bootstrap" data-mode="light">
<link href="../site_libs/bootstrap/bootstrap-dark.min.css" rel="prefetch" class="quarto-color-scheme quarto-color-alternate" id="quarto-bootstrap" data-mode="dark">
<script id="quarto-search-options" type="application/json">{
  "location": "sidebar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "start",
  "type": "textbox",
  "limit": 20,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit"
  }
}</script>


<link rel="stylesheet" href="styles.css">
</head>

<body class="nav-sidebar floating">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
  <nav class="quarto-secondary-nav">
    <div class="container-fluid d-flex">
      <button type="button" class="quarto-btn-toggle btn" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
        <i class="bi bi-layout-text-sidebar-reverse"></i>
      </button>
      <nav class="quarto-page-breadcrumbs" aria-label="breadcrumb"><ol class="breadcrumb"><li class="breadcrumb-item"><a href="../content/a20-setting.html">2. Setting up WiFi Sensors</a></li><li class="breadcrumb-item"><a href="../content/a23-installation.html">2.3. Installation Steps</a></li></ol></nav>
      <a class="flex-grow-1" role="button" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass" aria-controls="quarto-sidebar" aria-expanded="false" aria-label="Toggle sidebar navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">      
      </a>
      <button type="button" class="btn quarto-search-button" aria-label="Search" onclick="window.quartoOpenSearch();">
        <i class="bi bi-search"></i>
      </button>
    </div>
  </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal sidebar-navigation floating overflow-auto">
    <div class="pt-lg-2 mt-2 text-left sidebar-header">
    <div class="sidebar-title mb-0 py-0">
      <a href="../">A Comprehensive Toolkit for WiFi Sensing: Decoding urban spaces</a> 
        <div class="sidebar-tools-main">
    <a href="https://github.com/jhyeonpark/wifi-sensing-for-urban-studies/" title="Source Code" class="quarto-navigation-tool px-1" aria-label="Source Code"><i class="bi bi-github"></i></a>
  <a href="" class="quarto-color-scheme-toggle quarto-navigation-tool  px-1" onclick="window.quartoToggleColorScheme(); return false;" title="Toggle dark mode"><i class="bi"></i></a>
</div>
    </div>
      </div>
        <div class="mt-2 flex-shrink-0 align-items-center">
        <div class="sidebar-search">
        <div id="quarto-search" class="" title="Search"></div>
        </div>
        </div>
    <div class="sidebar-menu-container"> 
    <ul class="list-unstyled mt-1">
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../index.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Preface</span></a>
  </div>
</li>
        <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a10-intro.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">1</span>&nbsp; <span class="chapter-title">a10-intro.html</span></span></a>
  </div>
</li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../content/a20-setting.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2. Setting up WiFi Sensors</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-1" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-1" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a21-requirement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">2.1. Requirements</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a22-placement.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">Placement and Coverage Considerations</span></a>
  </div>
</li>
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a23-installation.html" class="sidebar-item-text sidebar-link active">
 <span class="menu-text">2.3. Installation Steps</span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../content/a30-collection.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">a30-collection.html</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-2" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-2" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a31-guide.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">2</span>&nbsp; <span class="chapter-title">a31-guide.html</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../content/a40-analysis.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">a40-analysis.html</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-3" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-3" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a41-overall.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">3</span>&nbsp; <span class="chapter-title">a41-overall.html</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../content/a50-application.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">a50-application.html</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-4" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-4" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a51-case.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">4</span>&nbsp; <span class="chapter-title">a51-case.html</span></span></a>
  </div>
</li>
      </ul>
  </li>
        <li class="sidebar-item sidebar-item-section">
      <div class="sidebar-item-container"> 
            <a href="../content/a60-further.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text">a60-further.html</span></a>
          <a class="sidebar-item-toggle text-start" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar-section-5" aria-expanded="true" aria-label="Toggle section">
            <i class="bi bi-chevron-right ms-2"></i>
          </a> 
      </div>
      <ul id="quarto-sidebar-section-5" class="collapse list-unstyled sidebar-section depth1 show">  
          <li class="sidebar-item">
  <div class="sidebar-item-container"> 
  <a href="../content/a61-paper.html" class="sidebar-item-text sidebar-link">
 <span class="menu-text"><span class="chapter-number">5</span>&nbsp; <span class="chapter-title">a61-paper.html</span></span></a>
  </div>
</li>
      </ul>
  </li>
    </ul>
    </div>
</nav>
<div id="quarto-sidebar-glass" data-bs-toggle="collapse" data-bs-target="#quarto-sidebar,#quarto-sidebar-glass"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#initiating-your-raspberry-pi" id="toc-initiating-your-raspberry-pi" class="nav-link active" data-scroll-target="#initiating-your-raspberry-pi">2.3.1. Initiating Your Raspberry Pi</a>
  <ul class="collapse">
  <li><a href="#step-1-installing-the-pi-operating-system-on-the-sd-card" id="toc-step-1-installing-the-pi-operating-system-on-the-sd-card" class="nav-link" data-scroll-target="#step-1-installing-the-pi-operating-system-on-the-sd-card">Step 1: Installing the Pi Operating System on the SD Card</a></li>
  <li><a href="#step-2" id="toc-step-2" class="nav-link" data-scroll-target="#step-2">Step 2:</a></li>
  <li><a href="#step-2-enabling-internet-connection-sharing" id="toc-step-2-enabling-internet-connection-sharing" class="nav-link" data-scroll-target="#step-2-enabling-internet-connection-sharing">Step 2: Enabling Internet Connection Sharing</a></li>
  <li><a href="#step-3-connecting-the-pi-to-your-laptop" id="toc-step-3-connecting-the-pi-to-your-laptop" class="nav-link" data-scroll-target="#step-3-connecting-the-pi-to-your-laptop">Step 3: Connecting the Pi to Your Laptop</a></li>
  <li><a href="#step-4-accessing-the-pi-via-ssh" id="toc-step-4-accessing-the-pi-via-ssh" class="nav-link" data-scroll-target="#step-4-accessing-the-pi-via-ssh">Step 4: Accessing the Pi via SSH</a></li>
  <li><a href="#step-5-verifying-your-raspberry-pis-internet-connectivity" id="toc-step-5-verifying-your-raspberry-pis-internet-connectivity" class="nav-link" data-scroll-target="#step-5-verifying-your-raspberry-pis-internet-connectivity">Step 5: Verifying Your Raspberry Pi’s Internet Connectivity</a></li>
  <li><a href="#step-6-important-additional-considerations" id="toc-step-6-important-additional-considerations" class="nav-link" data-scroll-target="#step-6-important-additional-considerations">Step 6: Important Additional Considerations</a></li>
  </ul></li>
  <li><a href="#setting-your-pi-as-a-sensor" id="toc-setting-your-pi-as-a-sensor" class="nav-link" data-scroll-target="#setting-your-pi-as-a-sensor">2.3.2. Setting your Pi as a sensor</a>
  <ul class="collapse">
  <li><a href="#step-1-update-your-raspberry-pi-os" id="toc-step-1-update-your-raspberry-pi-os" class="nav-link" data-scroll-target="#step-1-update-your-raspberry-pi-os">Step 1: Update Your Raspberry Pi OS</a></li>
  <li><a href="#step-2-configure-the-network-settings" id="toc-step-2-configure-the-network-settings" class="nav-link" data-scroll-target="#step-2-configure-the-network-settings">Step 2: Configure the network settings</a></li>
  <li><a href="#step-3-turn-your-pi-into-a-file-server" id="toc-step-3-turn-your-pi-into-a-file-server" class="nav-link" data-scroll-target="#step-3-turn-your-pi-into-a-file-server">Step 3: Turn your Pi into a file server</a></li>
  <li><a href="#step-4-configure-cloud-storage-access-on-your-pi" id="toc-step-4-configure-cloud-storage-access-on-your-pi" class="nav-link" data-scroll-target="#step-4-configure-cloud-storage-access-on-your-pi">Step 4: Configure Cloud Storage Access on Your Pi</a></li>
  </ul></li>
  <li><a href="#test-your-pi" id="toc-test-your-pi" class="nav-link" data-scroll-target="#test-your-pi">2.3.3. Test your Pi</a>
  <ul class="collapse">
  <li><a href="#step-1-test-wifi-adapter" id="toc-step-1-test-wifi-adapter" class="nav-link" data-scroll-target="#step-1-test-wifi-adapter">Step 1: Test WiFi adapter</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">2.3. Installation Steps</h1>
</div>



<div class="quarto-title-meta">

    
  
    
  </div>
  

</header>

<section id="initiating-your-raspberry-pi" class="level2">
<h2 class="anchored" data-anchor-id="initiating-your-raspberry-pi">2.3.1. Initiating Your Raspberry Pi</h2>
<section id="step-1-installing-the-pi-operating-system-on-the-sd-card" class="level3">
<h3 class="anchored" data-anchor-id="step-1-installing-the-pi-operating-system-on-the-sd-card">Step 1: Installing the Pi Operating System on the SD Card</h3>
<p><strong>1. Format your SD card:</strong> After inserting an SD card into your laptop, launch the <a href="https://www.raspberrypi.com/software/">Raspberry Pi Imager</a> and select the <code>Format SD Card</code> option to prepare your SD card for the installation.</p>
<p><video src="material/ch2/format-SD.mp4" class="img-fluid" controls=""><a href="material/ch2/format-SD.mp4">Video</a></video></p>
<p><strong>2. Flash the OS onto your SD card:</strong> Select the appropriate version of OS and your SD card storage. Before initiating the writing process, make sure to enable <code>ssh</code> and set the username and password as ‘pi’ and ‘raspberry’, respectively, in the settings.</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The default username and password are ‘pi’ and ‘raspberry’ respectively for Raspberry Pi OS. However, for security reasons, it’s recommended to change these once your system is set up.</p>
</div>
</div>
<p><video src="material/ch2/write-SD.mp4" class="img-fluid" controls=""><a href="material/ch2/write-SD.mp4">Video</a></video></p>
</section>
<section id="step-2" class="level3">
<h3 class="anchored" data-anchor-id="step-2">Step 2:</h3>
<p><strong>3. Connecting the Pi to Your Laptop:</strong> Inser</p>
</section>
<section id="step-2-enabling-internet-connection-sharing" class="level3">
<h3 class="anchored" data-anchor-id="step-2-enabling-internet-connection-sharing">Step 2: Enabling Internet Connection Sharing</h3>
<p>On your laptop, navigate to the network settings and enable the <code>Internet Connection Sharing</code> option. This will allow your laptop, once connected to the internet, to share its internet connection with your Raspberry Pi via an Ethernet cable.</p>
<p><video src="material/ch2/share-network.mp4" class="img-fluid" controls=""><a href="material/ch2/share-network.mp4">Video</a></video></p>
</section>
<section id="step-3-connecting-the-pi-to-your-laptop" class="level3">
<h3 class="anchored" data-anchor-id="step-3-connecting-the-pi-to-your-laptop">Step 3: Connecting the Pi to Your Laptop</h3>
<p>Use an Ethernet cable to connect your Pi to your laptop.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="material/ch2/connect-pi.jpg" class="img-fluid figure-img"></p>
<figcaption class="figure-caption">Connect Pi to Laptop</figcaption>
</figure>
</div>
</section>
<section id="step-4-accessing-the-pi-via-ssh" class="level3">
<h3 class="anchored" data-anchor-id="step-4-accessing-the-pi-via-ssh">Step 4: Accessing the Pi via SSH</h3>
<p>On a Windows 10 or 11 PC, you can leverage PowerShell to SSH into your Raspberry Pi.</p>
<p><strong>Prerequisite:</strong> SSH should have been enabled during the Pi OS installation process (refer to Step 1).</p>
<ol type="1">
<li><p><strong>Open Command Prompt:</strong> You can access the Command Prompt by pressing <code>Ctrl + R</code>, typing <code>cmd</code>, and hitting <code>Enter</code>. Alternatively, you can open it by pressing <code>Ctrl + Shift + P</code>.</p></li>
<li><p><strong>Access Your Raspberry Pi:</strong> To establish an SSH connection with your Raspberry Pi, enter the following command: <code>ssh pi@raspberrypi</code>.</p></li>
<li><p><strong>Enter Password:</strong> By default, the username is ‘pi’ and the password is ‘raspberry’. Enter this default password when prompted.</p></li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><video src="material/ch2/putty.mp4" class="img-fluid" controls=""><a href="material/ch2/putty.mp4">Video</a></video></p>
<figcaption class="figure-caption">Access Pi via PuTTY</figcaption>
</figure>
</div>
</section>
<section id="step-5-verifying-your-raspberry-pis-internet-connectivity" class="level3">
<h3 class="anchored" data-anchor-id="step-5-verifying-your-raspberry-pis-internet-connectivity">Step 5: Verifying Your Raspberry Pi’s Internet Connectivity</h3>
<p>To ensure your Raspberry Pi is connected to the internet, use the ping command followed by the IP address of a well-known site. Ping Google’s Public DNS Server by typing <code>ping 8.8.8.8</code> and press enter. If the Pi is connected to the internet, you will see lines starting with ‘64 bytes from 8.8.8.8’ and a summary of the ping at the end.</p>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><video src="material/ch2/pi-ping.mp4" class="img-fluid" controls=""><a href="material/ch2/pi-ping.mp4">Video</a></video></p>
<figcaption class="figure-caption">Verify Pi’s Internet Connectivity</figcaption>
</figure>
</div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>If you’re connected to a network with enhanced security (like a university network), you may need to register your Raspberry Pi’s MAC address on a separate website before you can establish a PuTTY connection. Consult your network administrator or IT support for the specific procedures of your network.</p>
</div>
</div>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><img src="material/ch2/network-unist.png" class="img-fluid figure-img" width="500"></p>
<figcaption class="figure-caption">Register MAC Address</figcaption>
</figure>
</div>
</section>
<section id="step-6-important-additional-considerations" class="level3">
<h3 class="anchored" data-anchor-id="step-6-important-additional-considerations">Step 6: Important Additional Considerations</h3>
<p>If you have multiple Raspberry Pi devices connected to your network and wish to SSH into a specific one, you can directly enter its IP address as the hostname in PuTTY. Here’s how you can identify the IP address of a particular Raspberry Pi:</p>
<ol type="1">
<li><strong>Open Command Prompt:</strong> Press the Windows key and type cmd. Press Enter to open the command prompt.</li>
<li><strong>List Network Devices:</strong> Type <code>arp -a</code> and press Enter to list all devices connected to your network.</li>
<li><strong>Identify the Pi’s IP Address:</strong> Find the IP address of your Raspberry Pi by checking the physical addresses in the list. Raspberry Pi devices have MAC addresses that start with either <code>B8:27:EB:xx:xx:xx</code> or <code>DC:A6:32:xx:xx:xx</code>.</li>
</ol>
<div class="quarto-figure quarto-figure-center">
<figure class="figure">
<p><video src="material/ch2/find-ip-raspberry.mp4" class="img-fluid" controls=""><a href="material/ch2/find-ip-raspberry.mp4">Video</a></video></p>
<figcaption class="figure-caption">Find Raspberry Pi IP Address</figcaption>
</figure>
</div>
</section>
</section>
<section id="setting-your-pi-as-a-sensor" class="level2">
<h2 class="anchored" data-anchor-id="setting-your-pi-as-a-sensor">2.3.2. Setting your Pi as a sensor</h2>
<section id="step-1-update-your-raspberry-pi-os" class="level3">
<h3 class="anchored" data-anchor-id="step-1-update-your-raspberry-pi-os">Step 1: Update Your Raspberry Pi OS</h3>
<p>The first thing you should do is update your Raspberry Pi’s operating system (OS) to the latest version. Open a terminal window and type the following commands:</p>
<div class="sourceCode" id="cb1"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get update <span class="at">-y</span> <span class="kw">&amp;&amp;</span> <span class="fu">sudo</span> apt-get upgrade <span class="at">-y</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>After your updates are finished, restart your Raspberry Pi with this command:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> reboot</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>The <code>sudo</code> keyword means superuser do in Linux systems, analogous to Run As Administrator in Windows. The -y flag automatically affirms any prompts during the update process. The apt-get update command refreshes the available packages and their versions, while apt-get upgrade installs the latest versions.</p>
</div>
</div>
</section>
<section id="step-2-configure-the-network-settings" class="level3">
<h3 class="anchored" data-anchor-id="step-2-configure-the-network-settings">Step 2: Configure the network settings</h3>
<p>This step ensures your Pi can synchronize its system time with the internet at boot. Unlike your laptop, the Raspberry Pi does not have a real-time clock to keep track of the time when it’s not powered on (more details <a href="https://dayne.broderson.org/2020/03/12/the_time_is_now.html">here</a>). This means that your Pi needs to fetch the current time from the internet when it boots.</p>
<p>Here’s how to configure the setting:</p>
<p><strong>1. Setting your mobile’s hotspot:</strong> Start by setting up your hotspot, which your Raspberry Pi will use to synchronize its time.<br>
<img src="material/ch2/mobile-hotspot.png" class="img-fluid" width="500"></p>
<p><strong>2. Edit the Pi’s network configuration:</strong> Access the network configuration info by typing this commend:</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nano /etc/wpa_supplicant/wpa_supplicant.conf    </span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>3. Add your hotspot information:</strong> Go to the bottom of the file and add this information below (to me, <em>juhyeon9087</em> for both SSID and password of my mobile phone hotspot).</p>
<div class="sourceCode" id="cb4"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb4-1"><a href="#cb4-1" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb4-2"><a href="#cb4-2" aria-hidden="true" tabindex="-1"></a>country<span class="op">=</span>GB</span>
<span id="cb4-3"><a href="#cb4-3" aria-hidden="true" tabindex="-1"></a>network<span class="op">={</span></span>
<span id="cb4-4"><a href="#cb4-4" aria-hidden="true" tabindex="-1"></a>  ssid<span class="op">=</span><span class="st">"juhyeon9087"</span></span>
<span id="cb4-5"><a href="#cb4-5" aria-hidden="true" tabindex="-1"></a>  psk<span class="op">=</span><span class="st">"juhyeon9087"</span></span>
<span id="cb4-6"><a href="#cb4-6" aria-hidden="true" tabindex="-1"></a>  key_mgmt<span class="op">=</span>WPA<span class="op">-</span>PSK</span>
<span id="cb4-7"><a href="#cb4-7" aria-hidden="true" tabindex="-1"></a><span class="op">}</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="material/ch2/network_config.png" class="img-fluid"></p>
<p><strong>4. Close the terminal:</strong> After modifying the Wi-Fi connection details, press <code>Ctrl + X</code> and then press <code>Y</code> followed by <code>Enter</code> to save the changes. After rebooting your Raspberry Pi, the changes should take effect.</p>
</section>
<section id="step-3-turn-your-pi-into-a-file-server" class="level3">
<h3 class="anchored" data-anchor-id="step-3-turn-your-pi-into-a-file-server">Step 3: Turn your Pi into a file server</h3>
<p>This process enables the <strong>effortless sharing of files between a Raspberry Pi and other devices,</strong> such as laptops and PCs. Samba, an open-source secure network file sharing system, facilitates this transfer. By activating Samba, files can be easily transferred from or to a laptop within your network to a Raspberry Pi, via a direct Ethernet connection.</p>
<p><strong>1. Install Samba:</strong> Type the following command in your terminal to install Samba.</p>
<div class="sourceCode" id="cb5"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install samba samba-common-bin <span class="at">-y</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>2. Modify the Samba Config File:</strong> Share the folder of your Pi by modifying the Samba config file using the following command:</p>
<div class="sourceCode" id="cb6"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb6-1"><a href="#cb6-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nano /etc/samba/smb.conf</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>3. Edit the File</strong>: Jump to the end of the file by pressing <code>Ctrl + w</code> and <code>Ctrl + v</code> and type this:</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode powershell code-with-copy"><code class="sourceCode powershell"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="op">[</span>share<span class="op">]</span></span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>path <span class="op">=</span> <span class="op">/</span>home<span class="op">/</span>pi</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a>writeable<span class="op">=</span>Yes</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a>create mast<span class="op">=</span>0777</span>
<span id="cb7-5"><a href="#cb7-5" aria-hidden="true" tabindex="-1"></a>directory mast<span class="op">=</span>0777</span>
<span id="cb7-6"><a href="#cb7-6" aria-hidden="true" tabindex="-1"></a>public<span class="op">=</span>no</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><img src="material/ch2/samba-setting.png" class="img-fluid"></p>
<p>Save it by pressing <code>Ctrl + x</code> then <code>y</code> followed by <code>Enter</code>.</p>
<p><strong>4. Set up a Samba User</strong>: Set up a user for our Samba share on your Pi by typing this command:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> smbpasswd <span class="at">-a</span> pi</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Afterwards, enter the password twice as prompted by the command. My password is <code>raspberry</code>.</p>
<p><strong>5. Restart Samba Services:</strong> Restart the Samba services to make the changes effective.</p>
<div class="sourceCode" id="cb9"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb9-1"><a href="#cb9-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> service smbd restart</span>
<span id="cb9-2"><a href="#cb9-2" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> service nmbd restart</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>6. Access the Pi directory:</strong> Open the File Explorer (press <code>Win + E</code>), add the address <code>raspberrypi/pi</code> and then, type the Pi’s name and password as the network credentials.</p>
<p><video src="material/ch2/samba-access.mp4" class="img-fluid" controls=""><a href="material/ch2/samba-access.mp4">Video</a></video></p>
<p><strong>7. Create and check the test file test file:</strong> Make a text file on directory of your Pi by typing the following command.</p>
<div class="sourceCode" id="cb10"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb10-1"><a href="#cb10-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> nano test.txt</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>After typing anything (e.g., ‘gg’) in the file press <code>Ctrl + x</code> then <code>y</code> followed by <code>Enter</code>. Then, you can see the file in your laptop.</p>
<p><video src="material/ch2/samba_check.mp4" class="img-fluid" controls=""><a href="material/ch2/samba_check.mp4">Video</a></video></p>
</section>
<section id="step-4-configure-cloud-storage-access-on-your-pi" class="level3">
<h3 class="anchored" data-anchor-id="step-4-configure-cloud-storage-access-on-your-pi">Step 4: Configure Cloud Storage Access on Your Pi</h3>
<p>This step will guide you on how to equip your Raspberry Pi to send data to your cloud storage. This functionality can prove beneficial in scenarios where you need to verify the files transmitted by your Pi during its setup process.</p>
<p>For instance, when installing a sensor, determining the remaining storage on the sensor’s SD card can be a challenge. To address this, you can create a file that includes details about the available storage space and configure your Pi to transmit this file to your cloud storage upon booting. This way, you can inspect this file on your mobile device during the installation phase.</p>
<p><strong>1. Create a Dropbox App:</strong> We’ll utilize Dropbox as our cloud storage service provider. Create your app on <a href="https://www.dropbox.com/developers/">Dropbox developers</a> .</p>
<p><img src="material/ch2/dropbox_create1.png" class="img-fluid"></p>
<p><img src="material/ch2/dropbox_create2.png" class="img-fluid"></p>
<p><strong>2. Change the Permission:</strong> Alter the setting to allow your app to view and manage files and folders. I’ve selected all options in the permission settings.</p>
<p><img src="material/ch2/dropbox_permission.png" class="img-fluid"></p>
<p><strong>3. Install Necessary Packages:</strong> Ensure that the <code>curl</code> and <code>git</code> packages are installed by typing the following command:</p>
<div class="sourceCode" id="cb11"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb11-1"><a href="#cb11-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt install curl git</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>4. Install the Dropbox Uploader:</strong> Clone the <a href="https://github.com/andreafabrizi/Dropbox-Uploader/">Dropbox Uploader</a> script on your Pi by typing the following command.</p>
<div class="sourceCode" id="cb12"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb12-1"><a href="#cb12-1" aria-hidden="true" tabindex="-1"></a><span class="fu">git</span> clone https://github.com/andreafabrizi/Dropbox-Uploader.git</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>5. Execute the Uploader Script:</strong> Navigate to the newly cloned folder and grant the script executable permission by typing the following command.</p>
<div class="sourceCode" id="cb13"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb13-1"><a href="#cb13-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> Dropbox-Uploader</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<pre class="command"><code>sudo chmod +x dropbox_uploader.sh</code></pre>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Note
</div>
</div>
<div class="callout-body-container callout-body">
<p>You can learn basic Linux commands on sites like <a href="https://www.hostinger.com/tutorials/linux-commands">this</a> .</p>
</div>
</div>
<p><strong>6. Link Your Account to the Uploader:</strong> Copy and paste your App Key and App Secret into the terminal.</p>
<p><img src="material/ch2/dropbox_register1.png" class="img-fluid"></p>
<p><strong>7. Grant Your App Permissions on the Pi:</strong> Copy and paste the URL into the web browser. Click ‘Continue’ to grant the permissions.</p>
<p><img src="material/ch2/dropbox_register2.png" class="img-fluid"></p>
<p><strong>8. Test the Dropbox Uploader App:</strong> Use the <code>upload</code> function to send a ‘README.md’ file to your Dropbox cloud storage. Before executing the following command, the file was empty, but after the command, the file was sent.</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="ex">./dropbox_uploader.sh</span> upload README.md /</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><video src="material/ch2/dropbox_check.mp4" class="img-fluid" controls=""><a href="material/ch2/dropbox_check.mp4">Video</a></video></p>
</section>
</section>
<section id="test-your-pi" class="level2">
<h2 class="anchored" data-anchor-id="test-your-pi">2.3.3. Test your Pi</h2>
<section id="step-1-test-wifi-adapter" class="level3">
<h3 class="anchored" data-anchor-id="step-1-test-wifi-adapter">Step 1: Test WiFi adapter</h3>
<p>This can be used to test a monitor mode on the WiFi adapter, allowing collecting WiFi packets.</p>
<p><strong>1. Install aircrack pcakage:</strong> Download the package by typing this commend:</p>
<div class="sourceCode" id="cb16"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sudo</span> apt-get install <span class="at">-y</span> aircrack-ng</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>2. Check the status of wireless interface:</strong> Get the list of wireless interface in your Pi by typing this commend:</p>
<div class="sourceCode" id="cb17"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb17-1"><a href="#cb17-1" aria-hidden="true" tabindex="-1"></a><span class="ex">airmon-ng</span></span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Before inserting the WiFi adaopter, only internal wireless interface on your Pi is found.</p>
<p><img src="material/ch2/aircrack-before.png" class="img-fluid"></p>
<p>With your WiFi adatoper, addtional wireelss interface you can see that.</p>
<p><img src="material/ch2/aircrack-connected.jpg" class="img-fluid"></p>
<p><img src="material/ch2/aircrack-after.png" class="img-fluid"></p>
<p><strong>3. Change the monitor mode:</strong> Change the adapter mode to monitor mode by following this command:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="ex">airmon-ng</span> start wlan1</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><strong>4. Excuete monitor mode:</strong> Collect the WiFi packets by following this command:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="ex">airodump-ng</span> wlan1mon</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p><video src="material/ch2/aircrack-test.mp4" class="img-fluid" controls=""><a href="material/ch2/aircrack-test.mp4">Video</a></video></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const disableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'prefetch';
    }
  }
  const enableStylesheet = (stylesheets) => {
    for (let i=0; i < stylesheets.length; i++) {
      const stylesheet = stylesheets[i];
      stylesheet.rel = 'stylesheet';
    }
  }
  const manageTransitions = (selector, allowTransitions) => {
    const els = window.document.querySelectorAll(selector);
    for (let i=0; i < els.length; i++) {
      const el = els[i];
      if (allowTransitions) {
        el.classList.remove('notransition');
      } else {
        el.classList.add('notransition');
      }
    }
  }
  const toggleColorMode = (alternate) => {
    // Switch the stylesheets
    const alternateStylesheets = window.document.querySelectorAll('link.quarto-color-scheme.quarto-color-alternate');
    manageTransitions('#quarto-margin-sidebar .nav-link', false);
    if (alternate) {
      enableStylesheet(alternateStylesheets);
      for (const sheetNode of alternateStylesheets) {
        if (sheetNode.id === "quarto-bootstrap") {
          toggleBodyColorMode(sheetNode);
        }
      }
    } else {
      disableStylesheet(alternateStylesheets);
      toggleBodyColorPrimary();
    }
    manageTransitions('#quarto-margin-sidebar .nav-link', true);
    // Switch the toggles
    const toggles = window.document.querySelectorAll('.quarto-color-scheme-toggle');
    for (let i=0; i < toggles.length; i++) {
      const toggle = toggles[i];
      if (toggle) {
        if (alternate) {
          toggle.classList.add("alternate");     
        } else {
          toggle.classList.remove("alternate");
        }
      }
    }
    // Hack to workaround the fact that safari doesn't
    // properly recolor the scrollbar when toggling (#1455)
    if (navigator.userAgent.indexOf('Safari') > 0 && navigator.userAgent.indexOf('Chrome') == -1) {
      manageTransitions("body", false);
      window.scrollTo(0, 1);
      setTimeout(() => {
        window.scrollTo(0, 0);
        manageTransitions("body", true);
      }, 40);  
    }
  }
  const isFileUrl = () => { 
    return window.location.protocol === 'file:';
  }
  const hasAlternateSentinel = () => {  
    let styleSentinel = getColorSchemeSentinel();
    if (styleSentinel !== null) {
      return styleSentinel === "alternate";
    } else {
      return false;
    }
  }
  const setStyleSentinel = (alternate) => {
    const value = alternate ? "alternate" : "default";
    if (!isFileUrl()) {
      window.localStorage.setItem("quarto-color-scheme", value);
    } else {
      localAlternateSentinel = value;
    }
  }
  const getColorSchemeSentinel = () => {
    if (!isFileUrl()) {
      const storageValue = window.localStorage.getItem("quarto-color-scheme");
      return storageValue != null ? storageValue : localAlternateSentinel;
    } else {
      return localAlternateSentinel;
    }
  }
  let localAlternateSentinel = 'default';
  // Dark / light mode switch
  window.quartoToggleColorScheme = () => {
    // Read the current dark / light value 
    let toAlternate = !hasAlternateSentinel();
    toggleColorMode(toAlternate);
    setStyleSentinel(toAlternate);
  };
  // Ensure there is a toggle, if there isn't float one in the top right
  if (window.document.querySelector('.quarto-color-scheme-toggle') === null) {
    const a = window.document.createElement('a');
    a.classList.add('top-right');
    a.classList.add('quarto-color-scheme-toggle');
    a.href = "";
    a.onclick = function() { try { window.quartoToggleColorScheme(); } catch {} return false; };
    const i = window.document.createElement("i");
    i.classList.add('bi');
    a.appendChild(i);
    window.document.body.appendChild(a);
  }
  // Switch to dark mode if need be
  if (hasAlternateSentinel()) {
    toggleColorMode(true);
  } else {
    toggleColorMode(false);
  }
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button', {
    text: function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
    }
  });
  clipboard.on('success', function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  });
  function tippyHover(el, contentFn) {
    const config = {
      allowHTML: true,
      content: contentFn,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start'
    };
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      return note.innerHTML;
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
<nav class="page-navigation">
  <div class="nav-page nav-page-previous">
      <a href="../content/a22-placement.html" class="pagination-link">
        <i class="bi bi-arrow-left-short"></i> <span class="nav-page-text">Placement and Coverage Considerations</span>
      </a>          
  </div>
  <div class="nav-page nav-page-next">
      <a href="../content/a30-collection.html" class="pagination-link">
        <span class="nav-page-text">a30-collection.html</span> <i class="bi bi-arrow-right-short"></i>
      </a>
  </div>
</nav>
</div> <!-- /content -->



</body></html>